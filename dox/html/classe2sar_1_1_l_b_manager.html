<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>E2SAR: e2sar::LBManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">E2SAR<span id="projectnumber">&#160;0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacee2sar.html">e2sar</a></li><li class="navelem"><a class="el" href="classe2sar_1_1_l_b_manager.html">LBManager</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">e2sar::LBManager Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aee79a02a264d3e48e3a96b78b778cbd4" id="r_aee79a02a264d3e48e3a96b78b778cbd4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee79a02a264d3e48e3a96b78b778cbd4">LBManager</a> (const <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> &amp;cpuri, bool validateServer=true, grpc::SslCredentialsOptions opts=grpc::SslCredentialsOptions())</td></tr>
<tr class="separator:aee79a02a264d3e48e3a96b78b778cbd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b4c58f99dc442b3777df86e595ea19" id="r_af9b4c58f99dc442b3777df86e595ea19"><td class="memItemLeft" align="right" valign="top">result&lt; u_int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9b4c58f99dc442b3777df86e595ea19">reserveLB</a> (const std::string &amp;lb_name, const <a class="el" href="namespacee2sar.html#ae18c28b113988abbc684f8ec0c3a0019">TimeUntil</a> &amp;until, const std::vector&lt; std::string &gt; &amp;senders) noexcept</td></tr>
<tr class="separator:af9b4c58f99dc442b3777df86e595ea19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08766b1bec3020153940b13346a53976" id="r_a08766b1bec3020153940b13346a53976"><td class="memItemLeft" align="right" valign="top">result&lt; u_int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08766b1bec3020153940b13346a53976">reserveLB</a> (const std::string &amp;lb_name, const boost::posix_time::time_duration &amp;duration, const std::vector&lt; std::string &gt; &amp;senders) noexcept</td></tr>
<tr class="separator:a08766b1bec3020153940b13346a53976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff4d68d73fd135c879e77e77aabef0c5" id="r_aff4d68d73fd135c879e77e77aabef0c5"><td class="memItemLeft" align="right" valign="top">result&lt; u_int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff4d68d73fd135c879e77e77aabef0c5">reserveLB</a> (const std::string &amp;lb_name, const double &amp;durationSeconds, const std::vector&lt; std::string &gt; &amp;senders) noexcept</td></tr>
<tr class="separator:aff4d68d73fd135c879e77e77aabef0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad646e1e20d4e4938c83aced0efff1718" id="r_ad646e1e20d4e4938c83aced0efff1718"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad646e1e20d4e4938c83aced0efff1718">getLB</a> (const std::string &amp;lbid) noexcept</td></tr>
<tr class="separator:ad646e1e20d4e4938c83aced0efff1718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dab3b03fb2cf78e27bdfd6b84add16a" id="r_a7dab3b03fb2cf78e27bdfd6b84add16a"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7dab3b03fb2cf78e27bdfd6b84add16a">getLB</a> () noexcept</td></tr>
<tr class="separator:a7dab3b03fb2cf78e27bdfd6b84add16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b8dd0eaa2ed0bd3e74b1faa2d20a19" id="r_a55b8dd0eaa2ed0bd3e74b1faa2d20a19"><td class="memItemLeft" align="right" valign="top">result&lt; std::unique_ptr&lt; LoadBalancerStatusReply &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55b8dd0eaa2ed0bd3e74b1faa2d20a19">getLBStatus</a> (const std::string &amp;lbid) noexcept</td></tr>
<tr class="separator:a55b8dd0eaa2ed0bd3e74b1faa2d20a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7122ecc226c28bcf38128e38e0ca4c0" id="r_aa7122ecc226c28bcf38128e38e0ca4c0"><td class="memItemLeft" align="right" valign="top">result&lt; std::unique_ptr&lt; LoadBalancerStatusReply &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7122ecc226c28bcf38128e38e0ca4c0">getLBStatus</a> () noexcept</td></tr>
<tr class="separator:aa7122ecc226c28bcf38128e38e0ca4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9ee67b0c1fa346bf345b8dcfebb19f" id="r_a3f9ee67b0c1fa346bf345b8dcfebb19f"><td class="memItemLeft" align="right" valign="top">result&lt; std::unique_ptr&lt; OverviewReply &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f9ee67b0c1fa346bf345b8dcfebb19f">overview</a> () noexcept</td></tr>
<tr class="separator:a3f9ee67b0c1fa346bf345b8dcfebb19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfeed65fb683514bba5215bd4f0c133c" id="r_acfeed65fb683514bba5215bd4f0c133c"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfeed65fb683514bba5215bd4f0c133c">addSenders</a> (const std::vector&lt; std::string &gt; &amp;senders) noexcept</td></tr>
<tr class="separator:acfeed65fb683514bba5215bd4f0c133c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f1647dfad7988f277421ea6ffdc9b3" id="r_ad0f1647dfad7988f277421ea6ffdc9b3"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0f1647dfad7988f277421ea6ffdc9b3">removeSenders</a> (const std::vector&lt; std::string &gt; &amp;senders) noexcept</td></tr>
<tr class="separator:ad0f1647dfad7988f277421ea6ffdc9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7052ffdbfa7137616c2146c8cddaf6df" id="r_a7052ffdbfa7137616c2146c8cddaf6df"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7052ffdbfa7137616c2146c8cddaf6df">freeLB</a> (const std::string &amp;lbid) noexcept</td></tr>
<tr class="separator:a7052ffdbfa7137616c2146c8cddaf6df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1454cfc487e9e4b8443734cad9bcf0cf" id="r_a1454cfc487e9e4b8443734cad9bcf0cf"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1454cfc487e9e4b8443734cad9bcf0cf">freeLB</a> () noexcept</td></tr>
<tr class="separator:a1454cfc487e9e4b8443734cad9bcf0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ba78cf2988e9bb7373d707b16c9f35" id="r_a71ba78cf2988e9bb7373d707b16c9f35"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71ba78cf2988e9bb7373d707b16c9f35">registerWorker</a> (const std::string &amp;node_name, std::pair&lt; ip::address, u_int16_t &gt; node_ip_port, float weight, u_int16_t source_count, float min_factor, float max_factor) noexcept</td></tr>
<tr class="separator:a71ba78cf2988e9bb7373d707b16c9f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0fa40b7d4c1995902e05c122277251" id="r_a8e0fa40b7d4c1995902e05c122277251"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e0fa40b7d4c1995902e05c122277251">deregisterWorker</a> () noexcept</td></tr>
<tr class="separator:a8e0fa40b7d4c1995902e05c122277251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3a46bc2e5e134dbce8c719bc9f5a8f" id="r_a8a3a46bc2e5e134dbce8c719bc9f5a8f"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a3a46bc2e5e134dbce8c719bc9f5a8f">sendState</a> (float fill_percent, float control_signal, bool is_ready) noexcept</td></tr>
<tr class="separator:a8a3a46bc2e5e134dbce8c719bc9f5a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62846d7ffcc1eec4f604082447be05bf" id="r_a62846d7ffcc1eec4f604082447be05bf"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62846d7ffcc1eec4f604082447be05bf">sendState</a> (float fill_percent, float control_signal, bool is_ready, const Timestamp &amp;ts) noexcept</td></tr>
<tr class="separator:a62846d7ffcc1eec4f604082447be05bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c1eb804a039a93c3a3929905e86f370" id="r_a3c1eb804a039a93c3a3929905e86f370"><td class="memItemLeft" align="right" valign="top">result&lt; boost::tuple&lt; std::string, std::string, std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c1eb804a039a93c3a3929905e86f370">version</a> () noexcept</td></tr>
<tr class="separator:a3c1eb804a039a93c3a3929905e86f370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43456dd5ab5d5f8f75cd8a394bc779d" id="r_ae43456dd5ab5d5f8f75cd8a394bc779d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae43456dd5ab5d5f8f75cd8a394bc779d">get_URI</a> () const noexcept</td></tr>
<tr class="separator:ae43456dd5ab5d5f8f75cd8a394bc779d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a12a6f4a541439481119f345d357eaf86" id="r_a12a6f4a541439481119f345d357eaf86"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; WorkerStatus &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12a6f4a541439481119f345d357eaf86">get_WorkerStatusVector</a> (std::unique_ptr&lt; LoadBalancerStatusReply &gt; &amp;rep) noexcept</td></tr>
<tr class="separator:a12a6f4a541439481119f345d357eaf86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eee003433089762095a736b1840ff02" id="r_a7eee003433089762095a736b1840ff02"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; WorkerStatus &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7eee003433089762095a736b1840ff02">get_WorkerStatusVector</a> (const LoadBalancerStatusReply &amp;rep) noexcept</td></tr>
<tr class="separator:a7eee003433089762095a736b1840ff02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1636b7ce7e742c97dfb2aefb7612a2c3" id="r_a1636b7ce7e742c97dfb2aefb7612a2c3"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1636b7ce7e742c97dfb2aefb7612a2c3">get_SenderAddressVector</a> (std::unique_ptr&lt; LoadBalancerStatusReply &gt; &amp;rep) noexcept</td></tr>
<tr class="separator:a1636b7ce7e742c97dfb2aefb7612a2c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ba52c136fc464b7cd5158166e7796f" id="r_aa7ba52c136fc464b7cd5158166e7796f"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7ba52c136fc464b7cd5158166e7796f">get_SenderAddressVector</a> (const LoadBalancerStatusReply &amp;rep) noexcept</td></tr>
<tr class="separator:aa7ba52c136fc464b7cd5158166e7796f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9e35f7326e9c99f92b1df9fa347005" id="r_abc9e35f7326e9c99f92b1df9fa347005"><td class="memItemLeft" align="right" valign="top">static const std::unique_ptr&lt; <a class="el" href="structe2sar_1_1_l_b_status.html">LBStatus</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc9e35f7326e9c99f92b1df9fa347005">asLBStatus</a> (std::unique_ptr&lt; LoadBalancerStatusReply &gt; &amp;rep) noexcept</td></tr>
<tr class="separator:abc9e35f7326e9c99f92b1df9fa347005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89baf10d4efb21aff807b1782000464" id="r_ae89baf10d4efb21aff807b1782000464"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structe2sar_1_1_l_b_status.html">LBStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae89baf10d4efb21aff807b1782000464">asLBStatus</a> (const LoadBalancerStatusReply &amp;rep) noexcept</td></tr>
<tr class="separator:ae89baf10d4efb21aff807b1782000464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf72784069d43e77a52ca30f0fbf438f" id="r_aaf72784069d43e77a52ca30f0fbf438f"><td class="memItemLeft" align="right" valign="top">static const OverviewMessage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf72784069d43e77a52ca30f0fbf438f">asOverviewMessage</a> (std::unique_ptr&lt; OverviewReply &gt; &amp;rep) noexcept</td></tr>
<tr class="separator:aaf72784069d43e77a52ca30f0fbf438f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3efd1ce339180e87d8ea9fd01ddd01" id="r_acc3efd1ce339180e87d8ea9fd01ddd01"><td class="memItemLeft" align="right" valign="top">static const OverviewMessage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc3efd1ce339180e87d8ea9fd01ddd01">asOverviewMessage</a> (const OverviewReply &amp;rep) noexcept</td></tr>
<tr class="separator:acc3efd1ce339180e87d8ea9fd01ddd01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895ec804b742e4127688558b43638471" id="r_a895ec804b742e4127688558b43638471"><td class="memItemLeft" align="right" valign="top">static result&lt; grpc::SslCredentialsOptions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a895ec804b742e4127688558b43638471">makeSslOptions</a> (const std::string &amp;pem_root_certs, const std::string &amp;pem_private_key, const std::string &amp;pem_cert_chain)</td></tr>
<tr class="separator:a895ec804b742e4127688558b43638471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f294de412c832a4a1264fcec64f95bc" id="r_a5f294de412c832a4a1264fcec64f95bc"><td class="memItemLeft" align="right" valign="top">static result&lt; grpc::SslCredentialsOptions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f294de412c832a4a1264fcec64f95bc">makeSslOptionsFromFiles</a> (std::string_view pem_root_certs, std::string_view pem_private_key, std::string_view pem_cert_chain)</td></tr>
<tr class="separator:a5f294de412c832a4a1264fcec64f95bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90457e1355f2fd6e3a199dff2d021a2a" id="r_a90457e1355f2fd6e3a199dff2d021a2a"><td class="memItemLeft" align="right" valign="top">static result&lt; grpc::SslCredentialsOptions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90457e1355f2fd6e3a199dff2d021a2a">makeSslOptionsFromFiles</a> (std::string_view pem_root_certs)</td></tr>
<tr class="separator:a90457e1355f2fd6e3a199dff2d021a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aee79a02a264d3e48e3a96b78b778cbd4" name="aee79a02a264d3e48e3a96b78b778cbd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee79a02a264d3e48e3a96b78b778cbd4">&#9670;&#160;</a></span>LBManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">e2sar::LBManager::LBManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cpuri</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>validateServer</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">grpc::SslCredentialsOptions</td>          <td class="paramname"><span class="paramname"><em>opts</em></span><span class="paramdefsep"> = </span><span class="paramdefval">grpc::SslCredentialsOptions()</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize manager. Default is with TLS/SSL and default client options. To enable custom SSL configuration with custom root certs, private key (for authN) and cert use makeSslOptions[FromFiles]() methods and pass the output to this constructor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cpuri</td><td>an <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> object parsed from configuration data </td></tr>
    <tr><td class="paramname">validateServer</td><td>if false, skip server certificate validation (useful for self-signed testing) </td></tr>
    <tr><td class="paramname">opts</td><td>grpc::SslCredentialsOptions containing some combination of server root certs, client key and client cert use of SSL/TLS is governed by the URI scheme ('ejfat' vs 'ejfats') </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acfeed65fb683514bba5215bd4f0c133c" name="acfeed65fb683514bba5215bd4f0c133c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfeed65fb683514bba5215bd4f0c133c">&#9670;&#160;</a></span>addSenders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::addSenders </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>senders</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add 'safe' sender addresses to CP to allow these sender to send data to the LB</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender_list</td><td>- list of sender addresses </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae89baf10d4efb21aff807b1782000464" name="ae89baf10d4efb21aff807b1782000464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae89baf10d4efb21aff807b1782000464">&#9670;&#160;</a></span>asLBStatus() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="structe2sar_1_1_l_b_status.html">LBStatus</a> e2sar::LBManager::asLBStatus </td>
          <td>(</td>
          <td class="paramtype">const LoadBalancerStatusReply &amp;</td>          <td class="paramname"><span class="paramname"><em>rep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function copies LoadBalancerStatusReply protobuf into a simpler struct </p>

</div>
</div>
<a id="abc9e35f7326e9c99f92b1df9fa347005" name="abc9e35f7326e9c99f92b1df9fa347005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9e35f7326e9c99f92b1df9fa347005">&#9670;&#160;</a></span>asLBStatus() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const std::unique_ptr&lt; <a class="el" href="structe2sar_1_1_l_b_status.html">LBStatus</a> &gt; e2sar::LBManager::asLBStatus </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; LoadBalancerStatusReply &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>rep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function copies LoadBalancerStatusReply protobuf into a simpler struct </p>

</div>
</div>
<a id="acc3efd1ce339180e87d8ea9fd01ddd01" name="acc3efd1ce339180e87d8ea9fd01ddd01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3efd1ce339180e87d8ea9fd01ddd01">&#9670;&#160;</a></span>asOverviewMessage() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const OverviewMessage e2sar::LBManager::asOverviewMessage </td>
          <td>(</td>
          <td class="paramtype">const OverviewReply &amp;</td>          <td class="paramname"><span class="paramname"><em>rep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function copies OverviewReply protobuf into a simpler struct </p>

</div>
</div>
<a id="aaf72784069d43e77a52ca30f0fbf438f" name="aaf72784069d43e77a52ca30f0fbf438f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf72784069d43e77a52ca30f0fbf438f">&#9670;&#160;</a></span>asOverviewMessage() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const OverviewMessage e2sar::LBManager::asOverviewMessage </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; OverviewReply &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>rep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function copies OverviewReply protobuf into a simpler struct </p>

</div>
</div>
<a id="a8e0fa40b7d4c1995902e05c122277251" name="a8e0fa40b7d4c1995902e05c122277251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0fa40b7d4c1995902e05c122277251">&#9670;&#160;</a></span>deregisterWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::deregisterWorker </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deregister worker using session ID and session token from the register call</p>
<dl class="section return"><dt>Returns</dt><dd>- 0 on success or an error condition </dd></dl>

</div>
</div>
<a id="a1454cfc487e9e4b8443734cad9bcf0cf" name="a1454cfc487e9e4b8443734cad9bcf0cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1454cfc487e9e4b8443734cad9bcf0cf">&#9670;&#160;</a></span>freeLB() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::freeLB </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free previously reserved load balancer. Uses admin token and uses LB ID obtained from reserve call on the same <a class="el" href="classe2sar_1_1_l_b_manager.html">LBManager</a> object. </p><dl class="section return"><dt>Returns</dt><dd>- 0 on success or error code with message on failure </dd></dl>

</div>
</div>
<a id="a7052ffdbfa7137616c2146c8cddaf6df" name="a7052ffdbfa7137616c2146c8cddaf6df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7052ffdbfa7137616c2146c8cddaf6df">&#9670;&#160;</a></span>freeLB() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::freeLB </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>lbid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free previously reserved load balancer. Uses admin token. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">-</td><td>externally provided lbid, in this case the URI only needs to contain cp address and admin token </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- 0 on success or error code with message on failure </dd></dl>

</div>
</div>
<a id="aa7ba52c136fc464b7cd5158166e7796f" name="aa7ba52c136fc464b7cd5158166e7796f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ba52c136fc464b7cd5158166e7796f">&#9670;&#160;</a></span>get_SenderAddressVector() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt; std::string &gt; e2sar::LBManager::get_SenderAddressVector </td>
          <td>(</td>
          <td class="paramtype">const LoadBalancerStatusReply &amp;</td>          <td class="paramname"><span class="paramname"><em>rep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function copies sender addresses into a vector. Relies on move semantics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rep</td><td>- the referenced return of <a class="el" href="#aa7122ecc226c28bcf38128e38e0ca4c0">getLBStatus()</a> call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- a vector of strings with known sender addresses communicated in the reserve call </dd></dl>

</div>
</div>
<a id="a1636b7ce7e742c97dfb2aefb7612a2c3" name="a1636b7ce7e742c97dfb2aefb7612a2c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1636b7ce7e742c97dfb2aefb7612a2c3">&#9670;&#160;</a></span>get_SenderAddressVector() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt; std::string &gt; e2sar::LBManager::get_SenderAddressVector </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; LoadBalancerStatusReply &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>rep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function copies sender addresses into a vector. Relies on move semantics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rep</td><td>- the referenced return of <a class="el" href="#aa7122ecc226c28bcf38128e38e0ca4c0">getLBStatus()</a> call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- a vector of strings with known sender addresses communicated in the reserve call </dd></dl>

</div>
</div>
<a id="ae43456dd5ab5d5f8f75cd8a394bc779d" name="ae43456dd5ab5d5f8f75cd8a394bc779d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae43456dd5ab5d5f8f75cd8a394bc779d">&#9670;&#160;</a></span>get_URI()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> &amp; e2sar::LBManager::get_URI </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the internal URI object. </p>

</div>
</div>
<a id="a7eee003433089762095a736b1840ff02" name="a7eee003433089762095a736b1840ff02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eee003433089762095a736b1840ff02">&#9670;&#160;</a></span>get_WorkerStatusVector() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt; WorkerStatus &gt; e2sar::LBManager::get_WorkerStatusVector </td>
          <td>(</td>
          <td class="paramtype">const LoadBalancerStatusReply &amp;</td>          <td class="paramname"><span class="paramname"><em>rep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function copies worker records into a vector It takes a unique_ptr from <a class="el" href="#aa7122ecc226c28bcf38128e38e0ca4c0">getLBStatus()</a> call and helps parse it. Relies on move semantics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rep</td><td>- the return of the <a class="el" href="#aa7122ecc226c28bcf38128e38e0ca4c0">getLBStatus()</a> call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- a vector of WorkerStatus objects with fields like name, fillpercent, controlsignal, slotsassigned and a lastupdated timestamp </dd></dl>

</div>
</div>
<a id="a12a6f4a541439481119f345d357eaf86" name="a12a6f4a541439481119f345d357eaf86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12a6f4a541439481119f345d357eaf86">&#9670;&#160;</a></span>get_WorkerStatusVector() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt; WorkerStatus &gt; e2sar::LBManager::get_WorkerStatusVector </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; LoadBalancerStatusReply &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>rep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper function copies worker records into a vector It takes a unique_ptr from <a class="el" href="#aa7122ecc226c28bcf38128e38e0ca4c0">getLBStatus()</a> call and helps parse it. Relies on move semantics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rep</td><td>- the return of the <a class="el" href="#aa7122ecc226c28bcf38128e38e0ca4c0">getLBStatus()</a> call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- a vector of WorkerStatus objects with fields like name, fillpercent, controlsignal, slotsassigned and a lastupdated timestamp </dd></dl>

</div>
</div>
<a id="a7dab3b03fb2cf78e27bdfd6b84add16a" name="a7dab3b03fb2cf78e27bdfd6b84add16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dab3b03fb2cf78e27bdfd6b84add16a">&#9670;&#160;</a></span>getLB() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::getLB </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get load balancer info using lb id in the URI object </p><dl class="section return"><dt>Returns</dt><dd>- 0 on success or error code with message on failure </dd></dl>

</div>
</div>
<a id="ad646e1e20d4e4938c83aced0efff1718" name="ad646e1e20d4e4938c83aced0efff1718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad646e1e20d4e4938c83aced0efff1718">&#9670;&#160;</a></span>getLB() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::getLB </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>lbid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get load balancer info - it updates the info inside the <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> object just like reserveLB. Uses admin token of the internal URI object. Note that unlike reserve it does NOT set the instance token - it is not available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lbid</td><td>- externally provided lb id, in this case the URI only needs to contain the cp address and admin token and it will be updated to contain dataplane and sync addresses. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- 0 on success or error code with message on failure </dd></dl>
<p>protobuf definition uses u_int32</p>

</div>
</div>
<a id="aa7122ecc226c28bcf38128e38e0ca4c0" name="aa7122ecc226c28bcf38128e38e0ca4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7122ecc226c28bcf38128e38e0ca4c0">&#9670;&#160;</a></span>getLBStatus() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; std::unique_ptr&lt; LoadBalancerStatusReply &gt; &gt; e2sar::LBManager::getLBStatus </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get load balancer status including list of workers, sender IP addresses etc using lb id in the URI object</p>
<dl class="section return"><dt>Returns</dt><dd>- loadbalancer::LoadBalancerStatusReply protobuf object with getters for fields like timestamp, currentepoch, currentpredictedeventnumber and iterators over senders and workers. For each worker you get name, fill percent, controlsignal, slotsassigned and timestamp last updated. </dd></dl>

</div>
</div>
<a id="a55b8dd0eaa2ed0bd3e74b1faa2d20a19" name="a55b8dd0eaa2ed0bd3e74b1faa2d20a19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b8dd0eaa2ed0bd3e74b1faa2d20a19">&#9670;&#160;</a></span>getLBStatus() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; std::unique_ptr&lt; LoadBalancerStatusReply &gt; &gt; e2sar::LBManager::getLBStatus </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>lbid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get load balancer status including list of workers, sender IP addresses.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lbid</td><td>- externally provided lbid, in this case the URI only needs to contain cp address and admin token </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- loadbalancer::LoadBalancerStatusReply protobuf object with getters for fields like timestamp, currentepoch, currentpredictedeventnumber and iterators over senders and workers. For each worker you get name, fill percent, controlsignal, slotsassigned and timestamp last updated. </dd></dl>

</div>
</div>
<a id="a895ec804b742e4127688558b43638471" name="a895ec804b742e4127688558b43638471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895ec804b742e4127688558b43638471">&#9670;&#160;</a></span>makeSslOptions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static result&lt; grpc::SslCredentialsOptions &gt; e2sar::LBManager::makeSslOptions </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>pem_root_certs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>pem_private_key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>pem_cert_chain</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate gRPC-compliant custom SSL Options object with the following parameters, where any parameter can be empty. Uses std::move to avoid copies. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pem_root_certs</td><td>The buffer containing the PEM encoding of the server root certificates. </td></tr>
    <tr><td class="paramname">pem_private_key</td><td>The buffer containing the PEM encoding of the client's private key. </td></tr>
    <tr><td class="paramname">pem_cert_chain</td><td>The buffer containing the PEM encoding of the client's certificate chain.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>outcome for grpc::SslCredentialsOptions object with parameters filled in </dd></dl>

</div>
</div>
<a id="a90457e1355f2fd6e3a199dff2d021a2a" name="a90457e1355f2fd6e3a199dff2d021a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90457e1355f2fd6e3a199dff2d021a2a">&#9670;&#160;</a></span>makeSslOptionsFromFiles() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; grpc::SslCredentialsOptions &gt; e2sar::LBManager::makeSslOptionsFromFiles </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>pem_root_certs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate gRPC-compliant custom SSL Options object with just the server root cert </p>

</div>
</div>
<a id="a5f294de412c832a4a1264fcec64f95bc" name="a5f294de412c832a4a1264fcec64f95bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f294de412c832a4a1264fcec64f95bc">&#9670;&#160;</a></span>makeSslOptionsFromFiles() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; grpc::SslCredentialsOptions &gt; e2sar::LBManager::makeSslOptionsFromFiles </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>pem_root_certs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>pem_private_key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>pem_cert_chain</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate gRPC-compliant custom SSL Options object with the following parameters, where any parameter can be empty </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pem_root_certs</td><td>The file name containing the PEM encoding of the server root certificate. </td></tr>
    <tr><td class="paramname">pem_private_key</td><td>The file name containing the PEM encoding of the client's private key. </td></tr>
    <tr><td class="paramname">pem_cert_chain</td><td>The file name containing the PEM encoding of the client's certificate chain.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>outcome for grpc::SslCredentialsOptions object with parameters filled in </dd></dl>

</div>
</div>
<a id="a3f9ee67b0c1fa346bf345b8dcfebb19f" name="a3f9ee67b0c1fa346bf345b8dcfebb19f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f9ee67b0c1fa346bf345b8dcfebb19f">&#9670;&#160;</a></span>overview()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; std::unique_ptr&lt; OverviewReply &gt; &gt; e2sar::LBManager::overview </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get an 'overview' of reserved load balancer instances</p>
<dl class="section return"><dt>Returns</dt><dd>- loadbalancer::OverviewReply protobuf object which itself is an array of ReserveLoadBalancerReply and LoadBalancerStatusReply for each instance as well as the name given to each instance in reserveLB. </dd></dl>

</div>
</div>
<a id="a71ba78cf2988e9bb7373d707b16c9f35" name="a71ba78cf2988e9bb7373d707b16c9f35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71ba78cf2988e9bb7373d707b16c9f35">&#9670;&#160;</a></span>registerWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::registerWorker </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>node_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; ip::address, u_int16_t &gt;</td>          <td class="paramname"><span class="paramname"><em>node_ip_port</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>weight</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int16_t</td>          <td class="paramname"><span class="paramname"><em>source_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>min_factor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>max_factor</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a workernode/backend with an allocated loadbalancer. Note that this call uses instance token. It sets session token and session id on the internal URI object. Note that a new worker must send state immediately (within 10s) or be automatically deregistered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node_name</td><td>- name of the node (can be FQDN) </td></tr>
    <tr><td class="paramname">node_ip_port</td><td>- a pair of ip::address and u_int16_t starting UDP port on which it listens </td></tr>
    <tr><td class="paramname">weight</td><td>- weight given to this node in terms of processing power </td></tr>
    <tr><td class="paramname">source_count</td><td>- how many sources we can listen to (gets converted to port range [0,14]) </td></tr>
    <tr><td class="paramname">min_factor</td><td>- multiplied with the number of slots that would be assigned evenly to determine min number of slots for example, 4 nodes with a minFactor of 0.5 = (512 slots / 4) * 0.5 = min 64 slots </td></tr>
    <tr><td class="paramname">max_factor</td><td>- multiplied with the number of slots that would be assigned evenly to determine max number of slots for example, 4 nodes with a maxFactor of 2 = (512 slots / 4) * 2 = max 256 slots set to 0 to specify no maximum </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- 0 on success or an error condition </dd></dl>

</div>
</div>
<a id="ad0f1647dfad7988f277421ea6ffdc9b3" name="ad0f1647dfad7988f277421ea6ffdc9b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f1647dfad7988f277421ea6ffdc9b3">&#9670;&#160;</a></span>removeSenders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::removeSenders </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>senders</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove 'safe' sender addresses from CP to disallow these senders to send data to the LB </p>

</div>
</div>
<a id="a08766b1bec3020153940b13346a53976" name="a08766b1bec3020153940b13346a53976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08766b1bec3020153940b13346a53976">&#9670;&#160;</a></span>reserveLB() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; u_int32_t &gt; e2sar::LBManager::reserveLB </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>lb_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::posix_time::time_duration &amp;</td>          <td class="paramname"><span class="paramname"><em>duration</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>senders</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reserve a new load balancer with this name until specified time. It sets the intstance token on the internal URI object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lb_name</td><td>LB name internal to you </td></tr>
    <tr><td class="paramname">duration</td><td>for how long it is needed as boost::posix_time::time_duration. You can use boost::posix_time::duration_from_string from string like "23:59:59.000"s </td></tr>
    <tr><td class="paramname">senders</td><td>list of sender IP addresses</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- FPGA LB ID, for use in correlating logs/metrics </dd></dl>

</div>
</div>
<a id="aff4d68d73fd135c879e77e77aabef0c5" name="aff4d68d73fd135c879e77e77aabef0c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff4d68d73fd135c879e77e77aabef0c5">&#9670;&#160;</a></span>reserveLB() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; u_int32_t &gt; e2sar::LBManager::reserveLB </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>lb_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;</td>          <td class="paramname"><span class="paramname"><em>durationSeconds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>senders</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reserve a new load balancer with this name of duration in seconds</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lb_name</td><td>LB name internal to you </td></tr>
    <tr><td class="paramname">durationSeconds</td><td>for how long it is needed in seconds </td></tr>
    <tr><td class="paramname">senders</td><td>list of sender IP addresses</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- 0 on success or error code with message on failure </dd></dl>
<p>NOTE: this static casting may lose time accuracy, but should be accepted</p>

</div>
</div>
<a id="af9b4c58f99dc442b3777df86e595ea19" name="af9b4c58f99dc442b3777df86e595ea19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b4c58f99dc442b3777df86e595ea19">&#9670;&#160;</a></span>reserveLB() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; u_int32_t &gt; e2sar::LBManager::reserveLB </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>lb_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacee2sar.html#ae18c28b113988abbc684f8ec0c3a0019">TimeUntil</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>until</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>senders</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reserve a new load balancer with this name until specified time</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lb_name</td><td>LB name internal to you </td></tr>
    <tr><td class="paramname">until</td><td>time until it's needed as google protobuf timestamp pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- FPGA LB ID, for use in correlating logs/metrics </dd></dl>
<p>protobuf definition uses u_int32</p>

</div>
</div>
<a id="a8a3a46bc2e5e134dbce8c719bc9f5a8f" name="a8a3a46bc2e5e134dbce8c719bc9f5a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a3a46bc2e5e134dbce8c719bc9f5a8f">&#9670;&#160;</a></span>sendState() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::sendState </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>fill_percent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>control_signal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_ready</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send worker state update using session ID and session token from register call. Automatically uses localtime to set the timestamp. Workers are expected to send state every 100ms or so.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fill_percent</td><td>- [0:1] percentage filled of the queue </td></tr>
    <tr><td class="paramname">control_signal</td><td>- change to data rate </td></tr>
    <tr><td class="paramname">is_ready</td><td>- if true, worker ready to accept more data, else not ready </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62846d7ffcc1eec4f604082447be05bf" name="a62846d7ffcc1eec4f604082447be05bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62846d7ffcc1eec4f604082447be05bf">&#9670;&#160;</a></span>sendState() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::LBManager::sendState </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>fill_percent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>control_signal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_ready</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Timestamp &amp;</td>          <td class="paramname"><span class="paramname"><em>ts</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send worker state update using session ID and session token from register call. Allows to explicitly set the timestamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fill_percent</td><td>- [0:1] percentage filled of the queue </td></tr>
    <tr><td class="paramname">control_signal</td><td>- change to data rate </td></tr>
    <tr><td class="paramname">is_ready</td><td>- if true, worker ready to accept more data, else not ready </td></tr>
    <tr><td class="paramname">ts</td><td>- google::protobuf::Timestamp timestamp for this message (if you want to explicitly not use localtime) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c1eb804a039a93c3a3929905e86f370" name="a3c1eb804a039a93c3a3929905e86f370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c1eb804a039a93c3a3929905e86f370">&#9670;&#160;</a></span>version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; boost::tuple&lt; std::string, std::string, std::string &gt; &gt; e2sar::LBManager::version </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the version of the load balancer (the commit string)</p>
<dl class="section return"><dt>Returns</dt><dd>the result with commit string, build tag and compatTag in </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="e2sar_c_p_8hpp_source.html">e2sarCP.hpp</a></li>
<li>src/<b>e2sarCP.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
