<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>E2SAR: e2sar::Reassembler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">E2SAR<span id="projectnumber">&#160;0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacee2sar.html">e2sar</a></li><li class="navelem"><a class="el" href="classe2sar_1_1_reassembler.html">Reassembler</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle"><div class="title">e2sar::Reassembler Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a59944e548b624c5e5e65f3fda6496485" id="r_a59944e548b624c5e5e65f3fda6496485"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59944e548b624c5e5e65f3fda6496485">Reassembler</a> (const <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> &amp;uri, std::vector&lt; int &gt; cpuCoreList, const <a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a> &amp;rflags=<a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a>())</td></tr>
<tr class="separator:a59944e548b624c5e5e65f3fda6496485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3242ab50c3675511cf6a6922dfe2248" id="r_ae3242ab50c3675511cf6a6922dfe2248"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3242ab50c3675511cf6a6922dfe2248">Reassembler</a> (const <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> &amp;uri, size_t numRecvThreads=1, const <a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a> &amp;rflags=<a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a>())</td></tr>
<tr class="separator:ae3242ab50c3675511cf6a6922dfe2248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29baa68360c561a08e333332f75e4bc4" id="r_a29baa68360c561a08e333332f75e4bc4"><td class="memItemLeft" align="right" valign="top"><a id="a29baa68360c561a08e333332f75e4bc4" name="a29baa68360c561a08e333332f75e4bc4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Reassembler</b> (const <a class="el" href="classe2sar_1_1_reassembler.html">Reassembler</a> &amp;r)=delete</td></tr>
<tr class="separator:a29baa68360c561a08e333332f75e4bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd88bc7413ab25f6f16769978541f09" id="r_a4cd88bc7413ab25f6f16769978541f09"><td class="memItemLeft" align="right" valign="top"><a id="a4cd88bc7413ab25f6f16769978541f09" name="a4cd88bc7413ab25f6f16769978541f09"></a>
<a class="el" href="classe2sar_1_1_reassembler.html">Reassembler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classe2sar_1_1_reassembler.html">Reassembler</a> &amp;o)=delete</td></tr>
<tr class="separator:a4cd88bc7413ab25f6f16769978541f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5804969f47c755008cf171c765e3b7e5" id="r_a5804969f47c755008cf171c765e3b7e5"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5804969f47c755008cf171c765e3b7e5">registerWorker</a> (const std::string &amp;node_name, float weight, float min_factor, float max_factor) noexcept</td></tr>
<tr class="separator:a5804969f47c755008cf171c765e3b7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d74bb1d375c7d0d513075b49046ac7" id="r_af1d74bb1d375c7d0d513075b49046ac7"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1d74bb1d375c7d0d513075b49046ac7">deregisterWorker</a> () noexcept</td></tr>
<tr class="separator:af1d74bb1d375c7d0d513075b49046ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcdcbd4ac51cda97e16d74d20ba25c7f" id="r_adcdcbd4ac51cda97e16d74d20ba25c7f"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcdcbd4ac51cda97e16d74d20ba25c7f">openAndStart</a> () noexcept</td></tr>
<tr class="separator:adcdcbd4ac51cda97e16d74d20ba25c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dac1a760ca3e903abd3e3a8000d5a5d" id="r_a1dac1a760ca3e903abd3e3a8000d5a5d"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1dac1a760ca3e903abd3e3a8000d5a5d">getEvent</a> (uint8_t **event, size_t *bytes, EventNum_t *eventNum, uint16_t *dataId) noexcept</td></tr>
<tr class="separator:a1dac1a760ca3e903abd3e3a8000d5a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d97b06e8813bf53ade74c08de8f4e91" id="r_a8d97b06e8813bf53ade74c08de8f4e91"><td class="memItemLeft" align="right" valign="top">result&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d97b06e8813bf53ade74c08de8f4e91">recvEvent</a> (uint8_t **event, size_t *bytes, EventNum_t *eventNum, uint16_t *dataId) noexcept</td></tr>
<tr class="separator:a8d97b06e8813bf53ade74c08de8f4e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad04232e140f42648c09b4d82dabfab8b" id="r_ad04232e140f42648c09b4d82dabfab8b"><td class="memItemLeft" align="right" valign="top">const boost::tuple&lt; EventNum_t, EventNum_t, int, int, int, <a class="el" href="namespacee2sar.html#a22467d88fc86a9d335f7dc1e3c830bf1">E2SARErrorc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad04232e140f42648c09b4d82dabfab8b">getStats</a> () const noexcept</td></tr>
<tr class="separator:ad04232e140f42648c09b4d82dabfab8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8955ea8ff93e880550f62abd0e030e1c" id="r_a8955ea8ff93e880550f62abd0e030e1c"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8955ea8ff93e880550f62abd0e030e1c">get_numRecvThreads</a> () const noexcept</td></tr>
<tr class="separator:a8955ea8ff93e880550f62abd0e030e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac4d3a93ecac81d34b0b9face73f448" id="r_abac4d3a93ecac81d34b0b9face73f448"><td class="memItemLeft" align="right" valign="top">const std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abac4d3a93ecac81d34b0b9face73f448">get_recvPorts</a> () const noexcept</td></tr>
<tr class="separator:abac4d3a93ecac81d34b0b9face73f448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679e7fc30486417e84976857b47bb440" id="r_a679e7fc30486417e84976857b47bb440"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a679e7fc30486417e84976857b47bb440">get_portRange</a> () const noexcept</td></tr>
<tr class="separator:a679e7fc30486417e84976857b47bb440"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a678f53c813210758d6bce63e529dd0ea" id="r_a678f53c813210758d6bce63e529dd0ea"><td class="memItemLeft" align="right" valign="top"><a id="a678f53c813210758d6bce63e529dd0ea" name="a678f53c813210758d6bce63e529dd0ea"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>Segmenter</b></td></tr>
<tr class="separator:a678f53c813210758d6bce63e529dd0ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ee865b8fed6c791d9a2e0f2a6b7f3d0" id="r_a2ee865b8fed6c791d9a2e0f2a6b7f3d0"><td class="memItemLeft" align="right" valign="top"><a id="a2ee865b8fed6c791d9a2e0f2a6b7f3d0" name="a2ee865b8fed6c791d9a2e0f2a6b7f3d0"></a>
struct&#160;</td><td class="memItemRight" valign="bottom"><b>RecvThreadState</b></td></tr>
<tr class="separator:a2ee865b8fed6c791d9a2e0f2a6b7f3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb45994932f56618fdb2fa1f20ea527" id="r_aafb45994932f56618fdb2fa1f20ea527"><td class="memItemLeft" align="right" valign="top"><a id="aafb45994932f56618fdb2fa1f20ea527" name="aafb45994932f56618fdb2fa1f20ea527"></a>
struct&#160;</td><td class="memItemRight" valign="bottom"><b>sendStateThreadState</b></td></tr>
<tr class="separator:aafb45994932f56618fdb2fa1f20ea527"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a59944e548b624c5e5e65f3fda6496485" name="a59944e548b624c5e5e65f3fda6496485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59944e548b624c5e5e65f3fda6496485">&#9670;&#160;</a></span>Reassembler() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">e2sar::Reassembler::Reassembler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>uri</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt;</td>          <td class="paramname"><span class="paramname"><em>cpuCoreList</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rflags</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a>()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a reassembler object to run receive on a specific set of CPU cores We assume you picked the CPU core list by studying CPU-to-NUMA affinity for the receiver NIC on the target system. The number of started receive threads will match the number of cores on the list. For the started receive threads affinity will be set to these cores. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>- <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> with lb_id and instance token, so we can register a worker and then SendState </td></tr>
    <tr><td class="paramname">cpuCoreList</td><td>- list of core identifiers to be used for receive threads </td></tr>
    <tr><td class="paramname">rflags</td><td>- optional <a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a> structure with additional flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae3242ab50c3675511cf6a6922dfe2248" name="ae3242ab50c3675511cf6a6922dfe2248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3242ab50c3675511cf6a6922dfe2248">&#9670;&#160;</a></span>Reassembler() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">e2sar::Reassembler::Reassembler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>uri</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>numRecvThreads</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rflags</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a>()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a reassembler object to run on a specified number of receive threads without taking into account thread-to-CPU and CPU-to-NUMA affinity. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>- <a class="el" href="classe2sar_1_1_ejfat_u_r_i.html">EjfatURI</a> with lb_id and instance token, so we can register a worker and then SendState </td></tr>
    <tr><td class="paramname">numRecvThreads</td><td>- number of threads </td></tr>
    <tr><td class="paramname">rflags</td><td>- optional <a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a> structure with additional flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af1d74bb1d375c7d0d513075b49046ac7" name="af1d74bb1d375c7d0d513075b49046ac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d74bb1d375c7d0d513075b49046ac7">&#9670;&#160;</a></span>deregisterWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::Reassembler::deregisterWorker </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deregister this worker </p><dl class="section return"><dt>Returns</dt><dd>- 0 on success or an error condition </dd></dl>

</div>
</div>
<a id="a8955ea8ff93e880550f62abd0e030e1c" name="a8955ea8ff93e880550f62abd0e030e1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8955ea8ff93e880550f62abd0e030e1c">&#9670;&#160;</a></span>get_numRecvThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t e2sar::Reassembler::get_numRecvThreads </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of threads this <a class="el" href="classe2sar_1_1_reassembler.html">Reassembler</a> is using </p>

</div>
</div>
<a id="a679e7fc30486417e84976857b47bb440" name="a679e7fc30486417e84976857b47bb440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a679e7fc30486417e84976857b47bb440">&#9670;&#160;</a></span>get_portRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int e2sar::Reassembler::get_portRange </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the port range that will be communicated to CP (this is either specified explicitly as part of <a class="el" href="structe2sar_1_1_reassembler_1_1_reassembler_flags.html">ReassemblerFlags</a> or computed from the number of cores or threads requested) </p>

</div>
</div>
<a id="abac4d3a93ecac81d34b0b9face73f448" name="abac4d3a93ecac81d34b0b9face73f448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac4d3a93ecac81d34b0b9face73f448">&#9670;&#160;</a></span>get_recvPorts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::pair&lt; int, int &gt; e2sar::Reassembler::get_recvPorts </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the ports this reassembler is listening on, returned as a pair &lt;start port, end port&gt; </p>

</div>
</div>
<a id="a1dac1a760ca3e903abd3e3a8000d5a5d" name="a1dac1a760ca3e903abd3e3a8000d5a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dac1a760ca3e903abd3e3a8000d5a5d">&#9670;&#160;</a></span>getEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::Reassembler::getEvent </td>
          <td>(</td>
          <td class="paramtype">uint8_t **</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>bytes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EventNum_t *</td>          <td class="paramname"><span class="paramname"><em>eventNum</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *</td>          <td class="paramname"><span class="paramname"><em>dataId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A non-blocking call to get an assembled event off a reassembled event queue </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- event buffer </td></tr>
    <tr><td class="paramname">bytes</td><td>- size of the event in the buffer </td></tr>
    <tr><td class="paramname">eventNum</td><td>- the assembled event number </td></tr>
    <tr><td class="paramname">dataId</td><td>- dataId from the reassembly header identifying the DAQ </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- result structure, check has_error() method or value() which is 0 on success and -1 if the queue was empty. </dd></dl>

</div>
</div>
<a id="ad04232e140f42648c09b4d82dabfab8b" name="ad04232e140f42648c09b4d82dabfab8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad04232e140f42648c09b4d82dabfab8b">&#9670;&#160;</a></span>getStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const boost::tuple&lt; EventNum_t, EventNum_t, int, int, int, <a class="el" href="namespacee2sar.html#a22467d88fc86a9d335f7dc1e3c830bf1">E2SARErrorc</a> &gt; e2sar::Reassembler::getStats </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a tuple representing all the stats: EventNum_t enqueueLoss; // number of events received and lost on enqueue EventNum_t eventSuccess; // events successfully processed int lastErrno; int grpcErrCnt; int dataErrCnt; E2SARErrorc lastE2SARError; </p>

</div>
</div>
<a id="adcdcbd4ac51cda97e16d74d20ba25c7f" name="adcdcbd4ac51cda97e16d74d20ba25c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcdcbd4ac51cda97e16d74d20ba25c7f">&#9670;&#160;</a></span>openAndStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::Reassembler::openAndStart </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Open sockets and start the threads - this marks the moment from which we are listening for incoming packets, assembling them into event buffers and putting them into the queue. </p>

</div>
</div>
<a id="a8d97b06e8813bf53ade74c08de8f4e91" name="a8d97b06e8813bf53ade74c08de8f4e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d97b06e8813bf53ade74c08de8f4e91">&#9670;&#160;</a></span>recvEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::Reassembler::recvEvent </td>
          <td>(</td>
          <td class="paramtype">uint8_t **</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>bytes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EventNum_t *</td>          <td class="paramname"><span class="paramname"><em>eventNum</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *</td>          <td class="paramname"><span class="paramname"><em>dataId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Blocking variant of <a class="el" href="#a1dac1a760ca3e903abd3e3a8000d5a5d">getEvent()</a> with same parameter semantics </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- event buffer </td></tr>
    <tr><td class="paramname">bytes</td><td>- size of the event in the buffer </td></tr>
    <tr><td class="paramname">eventNum</td><td>- the assembled event number </td></tr>
    <tr><td class="paramname">dataId</td><td>- dataId from the reassembly header identifying the DAQ </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- result structure, check has_error() method or value() which is 0 </dd></dl>

</div>
</div>
<a id="a5804969f47c755008cf171c765e3b7e5" name="a5804969f47c755008cf171c765e3b7e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5804969f47c755008cf171c765e3b7e5">&#9670;&#160;</a></span>registerWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result&lt; int &gt; e2sar::Reassembler::registerWorker </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>node_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>weight</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>min_factor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>max_factor</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a worker with the control plane </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node_name</td><td>- name of this node (any unique string) </td></tr>
    <tr><td class="paramname">weight</td><td>- weight given to this node in terms of processing power </td></tr>
    <tr><td class="paramname">min_factor</td><td>- multiplied with the number of slots that would be assigned evenly to determine min number of slots for example, 4 nodes with a minFactor of 0.5 = (512 slots / 4) * 0.5 = min 64 slots </td></tr>
    <tr><td class="paramname">max_factor</td><td>- multiplied with the number of slots that would be assigned evenly to determine max number of slots for example, 4 nodes with a maxFactor of 2 = (512 slots / 4) * 2 = max 256 slots set to 0 to specify no maximum </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- 0 on success or an error condition </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="e2sar_d_p_reassembler_8hpp_source.html">e2sarDPReassembler.hpp</a></li>
<li>src/<b>e2sarDPReassembler.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
